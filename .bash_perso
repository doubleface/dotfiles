. /etc/bash_completion
. /usr/share/autojump/autojump.sh

export GIT_PS1_SHOWDIRTYSTATE=1 GIT_PS1_SHOWSTASHSTATE=1 GIT_PS1_SHOWUNTRACKEDFILES=1

# NODE
export NVM_DIR="$HOME/.nvm"
[ -s "$NVM_DIR/nvm.sh" ] && . "$NVM_DIR/nvm.sh"  # This loads nvm

nvm use default

. <(npm completion)

# startship
eval "$(starship init bash)"

function gitroot {
    cd `git rev-parse --show-toplevel`
}
function vimf {
    vim `git rev-parse --show-toplevel`/.git/index
}
function nvimf {
    nvim `git rev-parse --show-toplevel`/.git/index
}

alias git-clean-branches="git pull && git branch | cut -d' ' -f3 | xargs git branch -d"

gpurge() {
# Purge remote branches
  git fetch --prune
# Purge local branches not tracked on remote
    git branch --merged | grep -v "\*" | grep -v "master" | xargs -n 1 git branch -d
# Update tags
    git tag | xargs git tag -d && git fetch --tags
# GC
    git prune
    git gc
}

alias say='espeak -v fr'

# GO
export GOPATH="$HOME/Workspace/go"
export PATH="$GOPATH/bin:$HOME/bin:$HOME/.local/bin:$HOME/Workspace/maintenance/:$HOME/Workspace/maintenance/cli/:$PATH"


# ssh agent
if [ -z "$SSH_AUTH_SOCK" ] ; then
    eval `ssh-agent -s`
    ssh-add
fi

